<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>NX-Methods-CheatSheet</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="temp_style.css" />
</head>
<body>
<h1 id="nx-methods-cheatsheet">NX Methods Cheatsheet</h1>
<h2 id="basic-method-declaration">Basic Method Declaration</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic method declaration</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>:method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>                     # Default protection <span class="ot">is</span> public</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>:public method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>              # Explicitly public</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>:protected method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>           # Protected from external calls</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>:private method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>             # Only accessible within <span class="ot">class</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Object-specific methods</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>:object method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>              # Default protection <span class="ot">is</span> public</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>:public object method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>       # Explicitly public</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>:protected object method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>    # Protected from external calls</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>:private object method <span class="ot">name</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>      # Only accessible within object</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Method with non-positional arguments</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>:method foo <span class="kw">{</span>-<span class="ot">x</span>:required<span class="ot"> -y</span>:required<span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Access via $x and $y</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="kw">[list</span> <span class="ot">x</span> <span class="dt">$x</span> <span class="ot">y</span> <span class="dt">$y</span> <span class="kw">[</span><span class="ot">current</span> <span class="ot">args</span><span class="kw">]]</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Call with: obj foo -x 13 -y 14</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># or:        obj foo -y 14 -x 13</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Enum method (with spaces in name)</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>:method <span class="st">&quot;info filter guard&quot;</span> <span class="kw">{</span>filter<span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="kw">[</span><span class="ot">current</span> object<span class="kw">]</span>-<span class="kw">[</span><span class="ot">current</span> method<span class="kw">]</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Call with: obj info filter guard filtername</span></span></code></pre></div>
<h2 id="method-name-validity">Method Name Validity</h2>
<ul>
<li>Empty string (<code>""</code>) is invalid as a method name</li>
<li>Names cannot contain Tcl whitespace characters:
<ul>
<li>Space (<code>" "</code>)</li>
<li>Tab (<code>\t</code>)</li>
<li>Newline (<code>\n</code>)</li>
<li>Vertical Tab (<code>\v</code>)</li>
<li>Form Feed (<code>\f</code>)</li>
<li>Carriage Return (<code>\r</code>)</li>
</ul></li>
<li>Names with spaces must be quoted: <code>"method name"</code></li>
<li>Names cannot start with a colon: <code>:method</code> is
invalid</li>
<li>Special characters in method names:
<ul>
<li>Curly braces can be used: <code>{{{{a}}}}</code></li>
<li>Hash is allowed: <code>#method</code></li>
<li>List notation affects parsing: <code>{a b}</code> is invalid due to
space</li>
</ul></li>
</ul>
<h2 id="method-call-styles">Method Call Styles</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic styles</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>obj method arg1 arg2              # Standard call</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>obj <span class="st">&quot;method name&quot;</span> arg1 arg2       # Method <span class="ot">name</span> with spaces</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Self-calls from within methods</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>:method_name arg1 arg2            # Using colon prefix  </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="kw">[</span>self<span class="kw">]</span> method_name arg1 arg2      # Using self <span class="ot">command</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>: method_name arg1 arg2           # Colon with space</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Expansion handling</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="kw">{</span>*<span class="kw">}[list</span> :method arg1 arg2<span class="kw">]</span>       # Expands to valid method call</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>: <span class="kw">{</span>*<span class="kw">}[list</span> method arg1 arg2<span class="kw">]</span>      # Expands <span class="kw">after</span> colon</span></code></pre></div>
<h2 id="property-methods">Property Methods</h2>
<div class="sourceCode" id="cb3"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Property declaration</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>:property <span class="ot">name</span>                                 # Default accessor <span class="ot">is</span> not public</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>:property<span class="ot"> -accessor</span> public <span class="ot">name</span>                # Public accessor</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>:property<span class="ot"> -accessor</span> protected <span class="ot">name</span>             # Protected accessor</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>:property <span class="kw">{</span><span class="ot">name</span> <span class="ot">default</span><span class="kw">}</span>                       # With <span class="ot">default</span> value</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>:property<span class="ot"> -accessor</span> public a:int               # With <span class="ot">type</span> constraint</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Object properties</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>:object property <span class="kw">{</span><span class="ot">name</span> <span class="ot">default</span><span class="kw">}</span>                # With <span class="ot">default</span> value</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>:object property<span class="ot"> -accessor</span> public <span class="kw">{</span><span class="ot">name</span> <span class="st">&quot;&quot;</span><span class="kw">}</span>    # Public accessor with empty <span class="ot">default</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>:object property<span class="ot"> -accessor</span> protected <span class="ot">name</span>      # Protected accessor</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Property usage</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">name</span> <span class="kw">set</span> value                             # Set property value</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">name</span> <span class="ot">get</span>                                   # Get property value</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">cget -name</span>                                 # Get via <span class="ot">cget</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">configure -name</span> value                      # Configure property</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">cget -name</span>                                 # Get configured value</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating property returns handle</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> <span class="ot">x</span> <span class="kw">[</span>:property<span class="ot"> -accessor</span> public a<span class="kw">]</span>           # Store method <span class="ot">handle</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> X <span class="kw">[</span>:object property<span class="ot"> -accessor</span> public A<span class="kw">]</span>    # Store object method <span class="ot">handle</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Type constraints</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>obj a <span class="kw">set</span> <span class="st">&quot;text&quot;</span>                               # Will fail <span class="kw">if</span> a:int constraint</span></code></pre></div>
<h2 id="method-delegation">Method Delegation</h2>
<div class="sourceCode" id="cb4"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Forward declaration</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>:forward <span class="ot">name</span> %self other_method               # Forward to same object&#39;s method</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>:forward <span class="ot">name</span> ::other_object method            # Forward to other object</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>:public forward <span class="ot">name</span> target method             # Public forward</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>:protected forward <span class="ot">name</span> target method          # Protected forward</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Object forwards</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>:object forward <span class="ot">name</span> %self other_method        # Forward on object</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>:public object forward <span class="ot">name</span> target method      # Public object forward</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>:protected object forward <span class="ot">name</span> target method   # Protected object forward</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Alias declaration</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>:alias <span class="ot">name</span> <span class="kw">[</span>C <span class="kw">info</span> method registrationhandle method_name<span class="kw">]</span>  # Alias to method <span class="ot">handle</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>:public alias <span class="ot">name</span> targetMethod                             # Public alias</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>:protected alias <span class="ot">name</span> targetMethod                          # Protected alias</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Object aliases</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>:object alias <span class="ot">name</span> <span class="kw">[</span>:<span class="kw">info</span> object method registrationhandle method_name<span class="kw">]</span>  # Object alias to <span class="ot">handle</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>:public object alias <span class="ot">name</span> targetMethod                                   # Public object alias</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>:protected object alias <span class="ot">name</span> targetMethod                                # Protected object alias</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># NSF method provision</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>nsf::method::<span class="ot">provide</span> <span class="kw">set</span> <span class="kw">{</span>::nsf::method::alias <span class="kw">set</span><span class="ot"> -frame</span> object ::<span class="kw">set}</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>:<span class="ot">require</span> public method <span class="kw">set</span>                                  # Add as requirement</span></code></pre></div>
<h2 id="method-inspection">Method Inspection</h2>
<div class="sourceCode" id="cb5"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Method protection</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> method callprotection plain_method        # Returns <span class="st">&quot;public&quot;</span> or <span class="st">&quot;protected&quot;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> object method callprotection object_method</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Registration handles</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> method registrationhandle method_name     # Get method registration <span class="ot">handle</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> object method registrationhandle method_name</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get method lists</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">info</span> methods                                 # List all methods</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">info</span> methods<span class="ot"> -path</span>                           # Include full path <span class="kw">for</span> methods with spaces</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">info</span> object methods                          # List object methods</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">info</span> object methods<span class="ot"> -path</span>                    # Include full path</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">info</span> methods<span class="ot"> -callprotection</span> all             # List all methods regardless of protection</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>obj ::nsf::methods::<span class="ot">class</span>::<span class="kw">info</span>::methods<span class="ot"> -callprotection</span> all<span class="ot"> -path</span>  # Low-<span class="ot">level</span> inspection</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Check method properties</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> method <span class="ot">debug</span> method_name                  # Is method in <span class="ot">debug</span> mode?</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> method deprecated method_name             # Is method deprecated?</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> object method <span class="ot">debug</span> method_name           # For object methods</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> object method deprecated method_name      # For object methods</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Method property inspection using nsf::method::property</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>nsf::method::property C foo <span class="ot">debug</span>                # Check <span class="ot">debug</span> property</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>nsf::method::property C bar deprecated           # Check deprecated</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>nsf::method::property C<span class="ot"> -per</span>-object ofoo <span class="ot">debug</span>   # For object methods</span></code></pre></div>
<h2 id="method-deletion">Method Deletion</h2>
<div class="sourceCode" id="cb6"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete class methods</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>C <span class="ot">delete</span> method method_name                      # Delete <span class="ot">class</span> method</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>C <span class="ot">delete</span> property property_name                  # Delete property</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>::nsf::method::<span class="ot">delete</span> C foo                      # Low-<span class="ot">level</span> method deletion</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete object methods</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">delete</span> object method method_name             # Delete object-specific method</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">delete</span> object property property_name         # Delete object property</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>::nsf::method::<span class="ot">delete</span> C<span class="ot"> -per</span>-object bar          # Low-<span class="ot">level</span> object method deletion</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Errors for non-existent methods</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>C <span class="ot">delete</span> method non_existent                     # Returns <span class="kw">error</span> <span class="kw">message</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">delete</span> object method non_existent            # Returns <span class="kw">error</span> <span class="kw">message</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Deletion of ensemble methods</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">delete</span> object method <span class="st">&quot;info foo&quot;</span>              # Delete <span class="ot">first</span>-<span class="ot">level</span> ensemble</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">delete</span> object method <span class="st">&quot;info bar foo&quot;</span>          # Delete second-<span class="ot">level</span> ensemble</span></code></pre></div>
<h2 id="method-modifiers">Method Modifiers</h2>
<div class="sourceCode" id="cb7"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Method modifiers</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>:public method<span class="ot"> -debug</span> foo <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>          # Set <span class="ot">debug</span> mode</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>:public method<span class="ot"> -deprecated</span> bar <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>     # Mark as deprecated</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Object method modifiers</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>:public object method<span class="ot"> -debug</span> ofoo <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span>  # Set <span class="ot">debug</span> mode</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>:public object method<span class="ot"> -deprecated</span> obar <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span> # Mark as deprecated</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Check method properties after setting</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>nsf::method::property C foo <span class="ot">debug</span>                # Returns <span class="dv">1</span> <span class="kw">if</span> <span class="ot">debug</span> <span class="ot">is</span> <span class="kw">set</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> method <span class="ot">debug</span> foo                          # Returns <span class="dv">1</span> <span class="kw">if</span> <span class="ot">debug</span> <span class="ot">is</span> <span class="kw">set</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple modifiers can be combined</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>:public method<span class="ot"> -debug -deprecated</span> foo <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span><span class="ot">body</span><span class="kw">}</span></span></code></pre></div>
<h2 id="the-current-command">The <code>current</code> Command</h2>
<div class="sourceCode" id="cb8"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> method           # Current method <span class="ot">name</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> <span class="ot">args</span>             # Current method arguments</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> object           # Current object</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> <span class="ot">class</span>            # Current <span class="ot">class</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> callinglevel     # Current calling <span class="ot">level</span> (e.g., <span class="st">&quot;#0&quot;</span> <span class="kw">for</span> top <span class="ot">level</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> callingobject    # Calling object</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> callingmethod    # Calling method</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> calledproc       # Called procedure <span class="ot">name</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> calledmethod     # Called method <span class="ot">name</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="ot">current</span> nextmethod       # Next method in the chain (<span class="kw">for</span> mixins/filters)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Examples</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>:method example <span class="kw">{}</span> <span class="kw">{</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="st">&quot;[current method] called on [current object] from [current callingmethod]&quot;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking for method calls</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> <span class="kw">{[</span><span class="ot">current</span> calledmethod<span class="kw">]</span> eq <span class="st">&quot;foo&quot;</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Handle special case for foo</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<h2 id="control-flow">Control Flow</h2>
<div class="sourceCode" id="cb9"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Delegation to next method</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>next                     # Call next method with same <span class="ot">args</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>next arg1 arg2           # Call next method with different <span class="ot">args</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic next pattern for mixins</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>:method foo <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Do something before</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">set</span> result <span class="kw">[</span>next<span class="kw">]</span>    # Call next method in chain</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Do something after</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="dt">$result</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Context management</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>:<span class="kw">uplevel</span> <span class="ot">script</span>                  # Evaluates <span class="ot">script</span> in caller&#39;s context</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>:<span class="kw">uplevel</span> <span class="ot">level</span> <span class="ot">script</span>            # Evaluates at specified <span class="ot">level</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>:<span class="kw">uplevel</span> #<span class="dv">0</span> <span class="ot">script</span>              # Evaluate at <span class="kw">global</span> <span class="ot">level</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>:<span class="kw">uplevel</span> <span class="dv">1</span> <span class="ot">script</span>               # Evaluate at caller&#39;s <span class="ot">level</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>:<span class="kw">upvar</span> var localvar             # Reference caller&#39;s <span class="kw">variable</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>:<span class="kw">upvar</span> #<span class="dv">0</span> var localvar          # Reference <span class="kw">global</span> <span class="kw">variable</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Upvar example</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>:method <span class="ot">lstat</span> <span class="kw">{</span>path var<span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    :<span class="kw">upvar</span> <span class="dt">$var</span> arrayVar         # Reference caller&#39;s <span class="kw">array</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">file</span> <span class="ot">lstat</span> <span class="dt">$path</span> arrayVar    # Fill caller&#39;s <span class="kw">array</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Uplevel error handling</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> rc <span class="kw">[catch</span> <span class="kw">{</span>:<span class="kw">uplevel</span> <span class="dt">$script</span><span class="kw">}</span> result<span class="kw">]</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="kw">return</span><span class="ot"> -code</span> <span class="dt">$rc</span> <span class="dt">$result</span></span></code></pre></div>
<h2 id="filters-and-mixins">Filters and Mixins</h2>
<div class="sourceCode" id="cb10"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filters</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>C filters <span class="ot">add</span> filterMethod                   # Add filter method</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>C filters <span class="ot">delete</span> filterMethod                # Remove filter method</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>C filters guard filterMethod condition       # Add guard condition</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>obj object filters <span class="kw">set</span> intercept             # Set filter on object</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter method implementation</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>:method filterMethod <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Pre-processing</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">set</span> result <span class="kw">[</span>next<span class="kw">]</span>                        # Execute filtered method</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Post-processing</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="dt">$result</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Mixins</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>C mixins <span class="kw">set</span> M                               # Set <span class="ot">class</span> mixin</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>C mixins <span class="kw">set</span> <span class="kw">{{</span>M<span class="ot"> -guard</span> <span class="kw">{</span><span class="dv">1</span> == <span class="dv">1</span><span class="kw">}}}</span>           # Set with guard condition</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>C object mixins <span class="kw">set</span> M                        # Set object mixin</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>C mixins <span class="ot">add</span> M                               # Add <span class="ot">class</span> mixin</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>C object mixins <span class="ot">add</span> M                        # Add object mixin</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>C mixins <span class="ot">clear</span>                               # Clear all <span class="ot">class</span> mixins</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>C object mixins <span class="ot">clear</span>                        # Clear all object mixins</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Mixin access</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>C mixins <span class="ot">get</span>                                  # Get <span class="ot">class</span> mixins</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>C object mixins <span class="ot">get</span>                           # Get object mixins</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> mixins                                 # Get <span class="ot">class</span> mixins</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> object mixins                          # Get object mixins</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Mixin guards</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>C mixins guard M <span class="kw">{</span><span class="dv">1</span> == <span class="dv">1</span><span class="kw">}</span>                     # Set guard condition</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>C object mixins guard M <span class="kw">{</span><span class="dv">1</span> == <span class="dv">1</span><span class="kw">}</span>              # Set object guard condition</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>C mixins guard M <span class="st">&quot;&quot;</span>                           # Clear guard</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> mixins<span class="ot"> -guard</span>                          # Get guard <span class="kw">info</span></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>C <span class="kw">info</span> object mixins<span class="ot"> -guard</span>                   # Get object guard <span class="kw">info</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Mixin via object-parameter</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>nx::Class <span class="ot">create</span> C<span class="ot"> -mixin</span> M1<span class="ot"> -object</span>-mixins M2</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>C <span class="ot">configure -mixin</span> M1                         # Set via <span class="ot">configure</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>C <span class="ot">cget -mixin</span>                                 # Get via <span class="ot">cget</span></span></code></pre></div>
<h2 id="namespaces-and-scopes">Namespaces and Scopes</h2>
<div class="sourceCode" id="cb11"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top-level namespace methods</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>nx::Object <span class="ot">create</span> o1 <span class="kw">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    :public object method foo <span class="kw">{}</span> <span class="kw">{</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">[namespace</span> <span class="ot">current</span><span class="kw">]</span>-<span class="kw">[namespace</span> which <span class="kw">info]</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Returns: ::-::info</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Namespaced object methods</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> <span class="kw">eval</span> ::ns <span class="kw">{</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    nx::Object <span class="ot">create</span> o1 <span class="kw">{</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        :public object method foo <span class="kw">{}</span> <span class="kw">{</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="kw">[namespace</span> <span class="ot">current</span><span class="kw">]</span>-<span class="kw">[namespace</span> which <span class="kw">info]</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">}</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ns::o1 foo returns: ::ns-::info</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Nested object methods</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>nx::Object <span class="ot">create</span> o</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>nx::Object <span class="ot">create</span> o::o1 <span class="kw">{</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    :public object method foo <span class="kw">{}</span> <span class="kw">{</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">[namespace</span> <span class="ot">current</span><span class="kw">]</span>-<span class="kw">[namespace</span> which <span class="kw">info]</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">}</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co"># o::o1 foo returns: ::o-::info</span></span></code></pre></div>
<h2 id="object-and-class-management">Object and Class Management</h2>
<div class="sourceCode" id="cb12"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create instances</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>C <span class="ot">create</span> <span class="ot">name</span>                                # Create instance</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>C <span class="ot">create</span> <span class="ot">name</span> <span class="kw">{</span> code-block <span class="kw">}</span>                 # Create with initialization code</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>C <span class="ot">create</span> <span class="ot">name -property</span> value                # Create with property <span class="ot">values</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic object operations</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">destroy</span>                                  # Destroy object</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>nsf::object::<span class="ot">exists</span> obj                      # Check <span class="kw">if</span> object <span class="ot">exists</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy objects/classes</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">copy</span> target                              # Basic <span class="ot">copy</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>obj COPY target                              # Deep serialization-based <span class="ot">copy</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>C <span class="ot">copy</span> D                                     # Copy a <span class="ot">class</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Serialization (requires nx::serializer)</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span> <span class="ot">require</span> nx::serializer</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> serialized <span class="kw">[</span>obj serialize<span class="kw">]</span>               # Get object serialization</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> classCode <span class="kw">[</span>C serialize<span class="kw">]</span>                  # Get <span class="ot">class</span> serialization</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="kw">eval</span> <span class="dt">$serialized</span>                             # Recreate from serialization</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom COPY method</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>nx::Object public method COPY <span class="kw">{</span>target<span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">set</span> code <span class="kw">[</span>::Serializer deepSerialize<span class="ot"> -objmap</span> <span class="kw">[list</span> <span class="kw">[</span>self<span class="kw">]</span> <span class="dt">$target</span><span class="kw">]</span> <span class="kw">[</span>self<span class="kw">]]</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">eval</span> <span class="dt">$code</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="dt">$target</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<h2 id="special-method-handling">Special Method Handling</h2>
<div class="sourceCode" id="cb13"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unknown method handler</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>:object method <span class="kw">unknown</span> <span class="kw">{</span>method <span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Handle unknown method calls</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># method contains the called method name</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># args contains the arguments</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="st">&quot;unknown-</span><span class="dt">$</span><span class="st">method&quot;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Method handling with special characters</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>:<span class="kw">{</span>*<span class="kw">}[list</span> method arg1 arg2<span class="kw">]</span>                  # Expands to valid method call</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Method dispatching without current object</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>::obj::method                                # Direct call (can fail)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>::nsf::dispatch obj method                   # Force dispatch to protected method</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Call object command via eval</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">eval</span> <span class="kw">{</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    :public object method foo <span class="kw">{</span>...<span class="kw">}</span>          # Define method in <span class="kw">eval</span> context</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    :foo                                     # Call within <span class="kw">eval</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code></pre></div>
<h2 id="xotcl-compatibility">XOTcl Compatibility</h2>
<div class="sourceCode" id="cb14"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># XOTcl class and object creation</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span> <span class="ot">require</span> XOTcl <span class="fl">2.0</span>                    # Load XOTcl <span class="kw">package</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>xotcl::Class <span class="ot">create</span> C</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>xotcl::Object <span class="ot">create</span> o</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># XOTcl method definition</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>C <span class="kw">proc</span> classMethod <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Class method (proc)</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="st">&quot;class method&quot;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>C instproc instanceMethod <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Instance method (instproc)</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="st">&quot;instance method&quot;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co"># XOTcl unknown handler</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>C <span class="kw">proc</span> <span class="kw">unknown</span> <span class="ot">args</span> <span class="kw">{</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    :<span class="kw">incr</span> <span class="kw">[</span>self <span class="kw">proc]</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    next</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="co"># XOTcl assertion</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>Edge instproc bar <span class="kw">{}</span> <span class="kw">{</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    :<span class="kw">set</span> xxx</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span> <span class="kw">{}</span> <span class="kw">{{</span><span class="dv">1</span> == <span class="dv">0</span><span class="kw">}}</span>                             # Post-condition</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>nsf::method::assertion obj check all        # Enable assertion checking</span></code></pre></div>
<h2 id="advanced-method-techniques">Advanced Method Techniques</h2>
<div class="sourceCode" id="cb15"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Method property with default</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>:property <span class="kw">{</span>b b1<span class="kw">}</span>                            # Property b with <span class="ot">default</span> b1</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>:object property <span class="kw">{</span>B B2<span class="kw">}</span>                     # Object property with <span class="ot">default</span> B2</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Method debugging</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>nsf::method::property C foo <span class="ot">debug</span> <span class="dv">1</span>         # Set <span class="ot">debug</span> flag</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Type constraints on method parameters</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>:method methodName <span class="kw">{</span>arg:<span class="ot">type</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Type-checked parameter</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensemble methods (multi-level)</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>:method <span class="st">&quot;outer inner&quot;</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Called as: obj outer inner args...</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>:method <span class="st">&quot;outer inner deep&quot;</span> <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Called as: obj outer inner deep args...</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Interceptor transparency</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>:method intercept <span class="ot">args</span> <span class="kw">{</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Do pre-processing</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">set</span> result <span class="kw">[</span>next<span class="kw">]</span>                      # Call intercepted method</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Do post-processing</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> <span class="dt">$result</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>obj filters <span class="kw">set</span> intercept                  # Set as filter</span></code></pre></div>
<h2 id="dispatch-rules-and-error-handling">Dispatch Rules and Error
Handling</h2>
<div class="sourceCode" id="cb16"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Protected method calls</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>:method protected_method <span class="kw">{}</span>               # Define protected method</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">catch</span> <span class="kw">{</span>obj protected_method<span class="kw">}</span>              # Fails with <span class="kw">error</span> code <span class="dv">1</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>::nsf::dispatch obj protected_method      # Works <span class="kw">for</span> protected methods</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Method errors</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>obj non_existent_method                   # Returns <span class="st">&quot;unable to dispatch method&quot;</span> <span class="kw">error</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Method argument validation </span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>:method foo <span class="kw">{</span>-arg:required<span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Requires -arg parameter</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Call without required arg fails</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Call context errors</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>::obj::method                             # Called outside context: <span class="st">&quot;no current object&quot;</span> <span class="kw">error</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Invariants</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>:public method foo <span class="kw">{</span><span class="ot">args</span><span class="kw">}</span> <span class="kw">{</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Method body</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span> <span class="kw">{{</span><span class="dv">1</span> == <span class="dv">1</span><span class="kw">}}</span>                             # Invariant (always true)</span></code></pre></div>
<h2 id="testing-methods">Testing Methods</h2>
<div class="sourceCode" id="cb17"><pre
class="sourceCode tcl"><code class="sourceCode tcl"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Testing with nx::test</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>nx::test <span class="kw">case</span> <span class="kw">case</span>-<span class="ot">name</span> <span class="kw">{</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    ? <span class="kw">{</span>expression<span class="kw">}</span> expected-result        # Test expression against result</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    ? <span class="kw">{</span>obj method<span class="kw">}</span> <span class="st">&quot;expected result&quot;</span>      # Test method call result</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    ? <span class="kw">{catch</span> <span class="kw">{</span>expression<span class="kw">}}</span> <span class="dv">1</span>              # Test that expression raises <span class="kw">error</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Testing object creation</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>? <span class="kw">{</span>nsf::object::<span class="ot">exists</span> obj<span class="kw">}</span> <span class="dv">1</span>             # Check that object <span class="ot">exists</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure test</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>nx::test <span class="ot">configure -count</span> <span class="dv">10</span>              # Run test <span class="dv">10</span> times</span></code></pre></div>
</body>
</html>
